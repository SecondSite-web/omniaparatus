{"version":3,"names":[],"mappings":"","sources":["profile.js"],"sourcesContent":["$(function () { \r\n    // Validator download from https://jqueryvalidation.org/\r\n    $( document ).ready( function () {\r\n        $( \"#profile-form\" ).validate( {\r\n            rules: {\r\n                firstname: \"required\",\r\n                lastname: \"required\",\r\n                userrole: \"required\",\r\n                email: {\r\n                    required: true,\r\n                    email: true\r\n                },\r\n            },\r\n            messages: {\r\n                firstname: \"Please enter your firstname\",\r\n                lastname: \"Please enter your lastname\",\r\n                userrole: \"Please enter your lastname\",\r\n                email: \"Please enter a valid email address\"\r\n            },\r\n            errorElement: \"p\",\r\n            errorPlacement: function ( error, element ) {\r\n                // Add the `invalid-feedback` class to the error element\r\n                error.addClass( \"invalid-feedback\" );\r\n\r\n                if ( element.prop( \"type\" ) === \"checkbox\" ) {\r\n                    error.insertAfter( element.next( \"label\" ) );\r\n                } else {\r\n                    error.insertAfter( element );\r\n                }\r\n            },\r\n            highlight: function ( element, errorClass, validClass ) {\r\n                $( element ).addClass( \"is-invalid\" ).removeClass( \"is-valid\" );\r\n            },\r\n            unhighlight: function (element, errorClass, validClass) {\r\n                $( element ).addClass( \"is-valid\" ).removeClass( \"is-invalid\" );\r\n            }\r\n        });\r\n    });\r\n\r\n    // when the form is submitted\r\n    $('#profile-form').on('submit', function (e) {\r\n\r\n        // if the validator does not prevent form submit\r\n        if (!e.isDefaultPrevented()) {\r\n            var url = document.location.origin + \"/php/profile.php\";\r\n\r\n            // POST values in the background the the script URL\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: url,\r\n                data: $(this).serialize(),\r\n                success: function (data)\r\n                {   \r\n\r\n                        // we recieve the type of the message: success x danger and apply it to the\r\n                        var messageAlert = 'alert-' + data.type;\r\n                        var messageText = data.message;\r\n\r\n                        // let's compose Bootstrap alert box HTML\r\n                        var alertBox = '<div class=\"alert-fixed\"><div class=\"icon-wrapper\"><i class=\"fa fa-thumbs-up fa-4x\"></i></div></div>';\r\n                        // If we have messageAlert and messageText\r\n                        if (messageAlert && messageText) {\r\n                            // inject the alert to .messages div in our form\r\n                            $('#profile-form').find('.messages').html(alertBox);\r\n                            // empty the form\r\n                            $('#profile-form')[0].reset();\r\n                        }\r\n                        if (data.type === 'success') {\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            });\r\n            return false;\r\n        }\r\n    })\r\n});\r\n$('#profile-pic').on('submit', function (e) {\r\n\r\n    // if the validator does not prevent form submit\r\n    if (!e.isDefaultPrevented()) {\r\n        var url = document.location.origin + \"/php/profile-pic.php\";\r\n\r\n        // POST values in the background the the script URL\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: url,\r\n            data: new FormData(this),\r\n            contentType: false,\r\n            cache: false,\r\n            processData:false,\r\n            success: function (data)\r\n            {\r\n\r\n                // we recieve the type of the message: success x danger and apply it to the\r\n                var messageAlert = 'alert-' + data.type;\r\n                var messageText = data.message;\r\n                if(data.type === 'success') {\r\n                    window.location.replace(\"/\");\r\n                }\r\n                // let's compose Bootstrap alert box HTML\r\n                var alertBox = '<div class=\"ml-5 alert alert-dismissible d-inline alert-'+data.type+'\">'+messageText+'</div>';\r\n                // If we have messageAlert and messageText\r\n                if (messageAlert && messageText) {\r\n                    // inject the alert to .messages div in our form\r\n                    $('#profile-pic').find('.messages').html(alertBox);\r\n                    // empty the form\r\n                }\r\n\r\n            }\r\n        });\r\n        return false;\r\n    }\r\n});\r\n$(function () {\r\n    $(\".custom-file-input\").on(\"change\", function() {\r\n        var fileName = $(this).val().split(\"\\\\\").pop();\r\n        $(this).siblings(\".custom-file-label\").addClass(\"selected\").html(fileName);\r\n    });\r\n});\r\n$(function () {\r\n    $('#opening_date').datetimepicker({\r\n        format: 'YYYY-MM'\r\n    });\r\n});"],"file":"profile.min.js"}